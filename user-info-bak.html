<?php
  session_start();

  $type = $_GET['type'] || 'gzip';
?>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>사용자 정보 입력</title>
  <style> 
    .user-info {
      /* font-size: 1.6rem; */
      text-align: center;
    }
  </style>
</head>
<body>
 
<section class="user-info">
  <h2>고객정보 입력</h2>
  <p>오픈소스컨설팅은 고객의 원활한 제품 사용을 위해 고객지원에 적극적으로 임하고 있습니다.</p>
  <form method="POST" action="user-info-proc.php" target="_balnk" onsubmit="return onSubmit(this)">
    <fieldset>
      <legend>사용자 정보 입력</legend>
      <p>
        <label for="user-name">이름</label>
        <input type="text" id="user-name" name="name" max-length="50" required placeholder="이름을 입력해주세요.">
      </p>
      <p>
        <label for="user-company">회사명</label>
        <input type="text" id="user-company" name="company" max-length="50" required placeholder="회사명을 입력해주세요.">
      </p>
      <p>
        <label for="user-mail">이메일</label>
        <input type="email" id="user-mail" name="email" max-length="50" required placeholder="example@osci.kr">
      </p>
      <p>
        <label for="user-tel">연락처</label>
        <input type="tel" id="user-tel" name="phone" max-length="20" required placeholder="010-1234-5678">
      </p>
      <p>
        <label for="user-department">부서</label>
        <input type="text" id="user-department" name="department" max-length="50" required placeholder="부서 입력해주세요.">
      </p>
      <p>
        <label for="user-job-grade">직급</label>
        <input type="text" id="user-job-grade" name="position" max-length="50" required placeholder="직급 입력해주세요.">
      </p>
      <p>
        <label for="user-path">인지경로</label>
        <select id="user-path" name="path" required>
          <option value="" disabled selected>인지경로를 선택해주세요.</option>
          <option>당사 SNS(페이스북, 블로그)</option>
          <option>당사 메일링/뉴스레터</option>
          <option>포털사이트 검색</option>
          <option>홈페이지 직접 방문</option>
          <option>언론기사</option>
          <option>오픈소스컨설팅 직원 소개</option>
          <option>지인 및 동료 소개</option>
          <option>세미나/전시</option>
          <option>교육</option>
          <option>기타</option>
        </select>
      </p>
    </fieldset>
    <div>
    <p>개인정보수집 이용동의 안내</p>
    <div>
      <h3>
        개인정보수집 이용동의 안내 (개인정보 수집자 : ㈜오픈소스컨설팅)
      </h3>
      <ul>
        <li>1. 개인정보 수집 범위 : 회사명, 이름, 부서명, 직급, 이메일, 휴대폰번호</li>
        <li>2. 오픈소스컨설팅은 영업, 마케팅, 고객 지원 등의 다양한 업무상의 목적으로 고객 개인 정보를 수집 및 활용할 수 있습니다.</li>
        <li>3. 개인정보 보유 및 이용기간 : 개인정보는 수집 및 이용목적 달성시까지 보유하며, 제공자가 정보 파기를 원하는 경우 지체없이 파기하는 것을 원칙으로 합니다.</li>
      </ul>
    </div>
    <p>
      <input type="checkbox" id="user-agree" name="agree" value="Y" />
      <label for="user-agree">본인은 동의내용을 숙지하였으며, 회사가 본인의 개인정보를 수집 및 이용하는 것을 동의합니다.</label>
    </p>
    <div>
      <a href="#">이전 화면</a>
      <button type="submit" href="#">다운로드</button>
    </div>
    <input type="hidden" name="type" value="<?=$type?>" />
  </form>
  
</section>
<script type="text/javascript">
  function isValidEmail(email) {
    return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email);;
  }
  function onSubmit(form) {
    if (!form.name.value.length) {
      form.name.focus();
      alert('이름을 입력해주세요.');
      return false;
    }
    if (!form.company.value.length) {
      form.company.focus();
      alert('회사명을 입력해주세요.');
      return false;
    }
    if (!form.email.value.length) {
      form.email.focus();
      alert('이메일을 입력해주세요.');
      return false;
    }
    if (!isValidEmail(form.email.value)) {
      form.email.focus();
      alert('이메일을 정확히 입력해주세요.');
      return false;
    }
    if (!form.phone.value.length) {
      form.phone.focus();
      alert('연락처를 입력해주세요.');
      return false;
    }
    if (!form.department.value.length) {
      form.department.focus();
      alert('부서를 입력해주세요.');
      return false;
    }
    if (!form.position.value.length) {
      form.position.focus();
      alert('직급을 입력해주세요.');
      return false;
    }
    if (!form.path.value.length) {
      form.path.focus();
      alert('인지경로를 선택해주세요.');
      return false;
    }
    if (!form.agree.checked) {
      form.agree.focus();
      alert('개인정보수집에 동의해주세요.');
      return false;
    }
    
    return true;
  }
</script>
</body>
</html>

